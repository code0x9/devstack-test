# ===================================================================
# DevStack Core Settings
# ===================================================================
[[local|localrc]]
# Your VM's IP address (check with `ip addr` in the VM)
HOST_IP=172.16.146.128
ADMIN_PASSWORD=secret
DATABASE_PASSWORD=$ADMIN_PASSWORD
RABBIT_PASSWORD=$ADMIN_PASSWORD
SERVICE_PASSWORD=$ADMIN_PASSWORD
# ... other required passwords ...

# ===================================================================
# Neutron Networking Settings
# ===================================================================

# 1. Floating IP Range (Crucial for L3 Agent)
# This MUST be a range of unused IPs within the Host-Only/Custom VMnet subnet.
# Example: If VMware Fusion uses 192.168.100.0/24 for vmnet2
# Use a high range to avoid conflicts with other addresses Fusion might assign.
FLOATING_RANGE=192.168.122.1/24

# 2. External Interface/Bridge Mapping
# This tells Neutron what to use for its external physical connection.
# The network interface name inside the Linux VM (e.g., eth1) must be correct.
# Replace 'eth1' with the actual device name of your external NIC in the VM.
PUBLIC_INTERFACE=br-ex

# 3. Neutron Configuration (Open vSwitch is the default)
enable_service neutron
disable_service n-net

# Mapping the Neutron 'public' network to the physical bridge 'br-ex'
Q_PLUGIN_MECHANISM_DRIVERS=openvswitch
OVS_PHYSICAL_BRIDGE=br-ex
OVS_BRIDGE_MAPPINGS=public:br-ex
